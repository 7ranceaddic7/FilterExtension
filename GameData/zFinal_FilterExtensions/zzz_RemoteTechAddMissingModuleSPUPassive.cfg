// Gordon Dry
// it seems RT doesn't allow to have two different antenna types in the same part ... ;(
// so I disabled all patches below regarding ModuleRTAntenna and ModuleSPUPassive

// SPU in there with RTAntenna ?
@PART[*]:HAS[@MODULE[ModuleCommand],@MODULE[ModuleRTAntenna],@MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	-MODULE[ModuleSPU] { }
}

// SPUPassive in there with RTAntennaPassive ?
@PART[*]:HAS[@MODULE[ModuleCommand],@MODULE[ModuleRTAntennaPassive],@MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	-MODULE[ModuleSPUPassive] { }
}

// uncrewed passive: Probe cores are now remote controllable

@PART[*]:HAS[@MODULE[ModuleCommand],~CrewCapacity[],@MODULE[ModuleRTAntennaPassive],@MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]
	{
		%showUpgradesInModuleInfo = true
		%moduleIsEnabled = false
		@TRANSMITTER
		{
			@PacketInterval /= #$/mass$
			@PacketResourceCost *= #$/mass$
		}
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}

	@MODULE[ModuleSPU]
	{
		%showUpgradesInModuleInfo = true
		%moduleIsEnabled = false
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[<1],@MODULE[ModuleRTAntennaPassive],@MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]
	{
		%showUpgradesInModuleInfo = true
		%moduleIsEnabled = false
		@TRANSMITTER
		{
			@PacketInterval /= #$/mass$
			@PacketResourceCost *= #$/mass$
		}
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}

	@MODULE[ModuleSPU]
	{
		%showUpgradesInModuleInfo = true
		%moduleIsEnabled = false
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleCommand],~CrewCapacity[],@MODULE[ModuleRTAntennaPassive],!MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]
	{
		%showUpgradesInModuleInfo = true
		%moduleIsEnabled = false
		@TRANSMITTER
		{
			@PacketInterval /= #$/mass$
			@PacketResourceCost *= #$/mass$
		}
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}

	MODULE
	{
		name = ModuleSPU
		showUpgradesInModuleInfo = true
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[<1],@MODULE[ModuleRTAntennaPassive],!MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]
	{
		%showUpgradesInModuleInfo = true
		%moduleIsEnabled = false
		@TRANSMITTER
		{
			@PacketInterval /= #$/mass$
			@PacketResourceCost *= #$/mass$
		}
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}

	MODULE
	{
		name = ModuleSPU
		showUpgradesInModuleInfo = true
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

// smaller probes
@PART[*]:HAS[@MODULE[ModuleCommand],~CrewCapacity[],#mass[<1.001],!MODULE[ModuleRTAntennaPassive],!MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	MODULE
	{
		name = ModuleRTAntennaPassive
		showUpgradesInModuleInfo = true
		OmniRange = 3000
		TRANSMITTER
		{
			PacketInterval = 0.3
			@PacketInterval /= #$/mass$
			PacketSize = 1
			PacketResourceCost = 1
			@PacketResourceCost *= #$/mass$
		}
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}

	MODULE
	{
		name = ModuleSPU
		showUpgradesInModuleInfo = true
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[<1],#mass[<1.001],!MODULE[ModuleRTAntennaPassive],!MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	MODULE
	{
		name = ModuleRTAntennaPassive
		showUpgradesInModuleInfo = true
		OmniRange = 3000
		TRANSMITTER
		{
			PacketInterval = 0.3
			@PacketInterval /= #$/mass$
			PacketSize = 1
			PacketResourceCost = 1
			@PacketResourceCost *= #$/mass$
		}
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}

	MODULE
	{
		name = ModuleSPU
		showUpgradesInModuleInfo = true
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

// bigger probes
@PART[*]:HAS[@MODULE[ModuleCommand],~CrewCapacity[],#mass[>1],!MODULE[ModuleRTAntennaPassive],!MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	MODULE
	{
		name = ModuleRTAntennaPassive
		showUpgradesInModuleInfo = true
		OmniRange = 30000
		TRANSMITTER
		{
			PacketInterval = 0.3
			PacketSize = 1
			PacketResourceCost = 1
		}
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}

	MODULE
	{
		name = ModuleSPU
		showUpgradesInModuleInfo = true
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[<1],#mass[>1],!MODULE[ModuleRTAntennaPassive],!MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	MODULE
	{
		name = ModuleRTAntennaPassive
		showUpgradesInModuleInfo = true
		OmniRange = 30000
		TRANSMITTER
		{
			PacketInterval = 0.3
			PacketSize = 1
			PacketResourceCost = 1
		}
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}

	MODULE
	{
		name = ModuleSPU
		showUpgradesInModuleInfo = true
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

// // it seems RT doesn't allow to have two different antenna types in the same part ... ;(

// // uncrewed omni: Probe cores now have a basic embedded transmission antenna

// @PART[*]:HAS[@MODULE[ModuleCommand],~CrewCapacity[],@MODULE[ModuleRTAntenna],@MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[ModuleRTAntenna]
	// {
		// %showUpgradesInModuleInfo = true
		// @EnergyCost *= #$/mass$
		// @TRANSMITTER
		// {
			// @PacketInterval /= #$/mass$
			// @PacketResourceCost *= #$/mass$
		// }
		// %IsRTActive = false
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// @MODULE[ModuleSPUPassive]
	// {
		// %showUpgradesInModuleInfo = true
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[<1],@MODULE[ModuleRTAntenna],@MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[ModuleRTAntenna]
	// {
		// %showUpgradesInModuleInfo = true
		// @EnergyCost *= #$/mass$
		// @TRANSMITTER
		// {
			// @PacketInterval /= #$/mass$
			// @PacketResourceCost *= #$/mass$
		// }
		// %IsRTActive = false
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// @MODULE[ModuleSPUPassive]
	// {
		// %showUpgradesInModuleInfo = true
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleCommand],~CrewCapacity[],@MODULE[ModuleRTAntenna],!MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[ModuleRTAntenna]
	// {
		// %showUpgradesInModuleInfo = true
		// @EnergyCost *= #$/mass$
		// @TRANSMITTER
		// {
			// @PacketInterval /= #$/mass$
			// @PacketResourceCost *= #$/mass$
		// }
		// %IsRTActive = false
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// MODULE
	// {
		// name = ModuleSPUPassive
		// showUpgradesInModuleInfo = true
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[<1],@MODULE[ModuleRTAntenna],!MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[ModuleRTAntenna]
	// {
		// %showUpgradesInModuleInfo = true
		// @EnergyCost *= #$/mass$
		// @TRANSMITTER
		// {
			// @PacketInterval /= #$/mass$
			// @PacketResourceCost *= #$/mass$
		// }
		// %IsRTActive = false
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// MODULE
	// {
		// name = ModuleSPUPassive
		// showUpgradesInModuleInfo = true
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// // smaller probes
// @PART[*]:HAS[@MODULE[ModuleCommand],~CrewCapacity[],#mass[<1.001],!MODULE[ModuleRTAntenna],!MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// MODULE
	// {
		// name = ModuleRTAntenna
		// showUpgradesInModuleInfo = true
		// Mode0OmniRange = 2000
		// Mode1OmniRange = 25000
		// EnergyCost = 0.01
		// @EnergyCost *= #$/mass$
		// TRANSMITTER
		// {
			// PacketInterval = 0.3
			// @PacketInterval /= #$/mass$
			// PacketSize = 1
			// PacketResourceCost = 15.0
			// @PacketResourceCost *= #$/mass$
		// }
		// IsRTActive = false
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// MODULE
	// {
		// name = ModuleSPUPassive
		// showUpgradesInModuleInfo = true
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[<1],#mass[<1.001],!MODULE[ModuleRTAntenna],!MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// MODULE
	// {
		// name = ModuleRTAntenna
		// showUpgradesInModuleInfo = true
		// Mode0OmniRange = 2000
		// Mode1OmniRange = 25000
		// EnergyCost = 0.01
		// @EnergyCost *= #$/mass$
		// TRANSMITTER
		// {
			// PacketInterval = 0.3
			// @PacketInterval /= #$/mass$
			// PacketSize = 1
			// PacketResourceCost = 15.0
			// @PacketResourceCost *= #$/mass$
		// }
		// IsRTActive = false
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// MODULE
	// {
		// name = ModuleSPUPassive
		// showUpgradesInModuleInfo = true
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// // bigger probes
// @PART[*]:HAS[@MODULE[ModuleCommand],~CrewCapacity[],#mass[>1],!MODULE[ModuleRTAntenna],!MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// MODULE
	// {
		// name = ModuleRTAntenna
		// showUpgradesInModuleInfo = true
		// Mode0OmniRange = 5000
		// Mode1OmniRange = 75000
		// EnergyCost = 0.02
		// TRANSMITTER
		// {
			// PacketInterval = 0.3
			// PacketSize = 1
			// PacketResourceCost = 15.0
		// }
		// IsRTActive = false
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// @MODULE[ModuleRTAntenna]:NEEDS[Kerbalism]
	// {
		// @EnergyCost /= 50
	// }

	// MODULE
	// {
		// name = ModuleSPUPassive
		// showUpgradesInModuleInfo = true
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[<1],#mass[>1],!MODULE[ModuleRTAntenna],!MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// MODULE
	// {
		// name = ModuleRTAntenna
		// showUpgradesInModuleInfo = true
		// Mode0OmniRange = 5000
		// Mode1OmniRange = 75000
		// EnergyCost = 0.02
		// TRANSMITTER
		// {
			// PacketInterval = 0.3
			// PacketSize = 1
			// PacketResourceCost = 15.0
		// }
		// IsRTActive = false
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// @MODULE[ModuleRTAntenna]:NEEDS[Kerbalism]
	// {
		// @EnergyCost /= 50
	// }

	// MODULE
	// {
		// name = ModuleSPUPassive
		// showUpgradesInModuleInfo = true
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// crewed passive: Crewable pods are now remote controllable (for unmanned testing)

@PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[>0],@MODULE[ModuleRTAntennaPassive],@MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]
	{
		%showUpgradesInModuleInfo = true
		@TRANSMITTER
		{
			@PacketInterval /= #$/mass$
			@PacketResourceCost *= #$/mass$
		}
		%moduleIsEnabled = false
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_advUnmanned
				description__ = Crewable pods are now remote controllable (for unmanned testing)
				techRequired__ = advUnmanned
				moduleIsEnabled = true
			}
		}
	}

	@MODULE[ModuleSPU]
	{
		%showUpgradesInModuleInfo = true
		%moduleIsEnabled = false
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_advUnmanned
				description__ = Crewable pods are now remote controllable (for unmanned testing)
				techRequired__ = advUnmanned
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[>0],@MODULE[ModuleRTAntennaPassive],!MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]
	{
		%showUpgradesInModuleInfo = true
		@TRANSMITTER
		{
			@PacketInterval /= #$/mass$
			@PacketResourceCost *= #$/mass$
		}
		%moduleIsEnabled = false
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_advUnmanned
				description__ = Crewable pods are now remote controllable (for unmanned testing)
				techRequired__ = advUnmanned
				moduleIsEnabled = true
			}
		}
	}

	MODULE
	{
		name = ModuleSPU
		showUpgradesInModuleInfo = true
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_advUnmanned
				description__ = Crewable pods are now remote controllable (for unmanned testing)
				techRequired__ = advUnmanned
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[>0],!MODULE[ModuleRTAntennaPassive],!MODULE[ModuleSPU],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
{
	MODULE
	{
		name = ModuleRTAntennaPassive
		showUpgradesInModuleInfo = true
		OmniRange = 3000
		TRANSMITTER
		{
			PacketInterval = 0.3
			@PacketInterval /= #$/mass$
			PacketSize = 1
			PacketResourceCost = 1
			@PacketResourceCost *= #$/mass$
		}
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_advUnmanned
				description__ = Crewable pods are now remote controllable (for unmanned testing)
				techRequired__ = advUnmanned
				moduleIsEnabled = true
			}
		}
	}

	MODULE
	{
		name = ModuleSPU
		showUpgradesInModuleInfo = true
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_advUnmanned
				description__ = Crewable pods are now remote controllable (for unmanned testing)
				techRequired__ = advUnmanned
				moduleIsEnabled = true
			}
		}
	}
}

// // it seems RT doesn't allow to have two different antenna types in the same part ... ;(

// // crewed omni: Crewable pods now have a basic embedded transmission antenna

// @PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[>0],@MODULE[ModuleRTAntenna],@MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[ModuleRTAntenna]
	// {
		// %showUpgradesInModuleInfo = true
		// @EnergyCost *= #$/mass$
		// @TRANSMITTER
		// {
			// @PacketInterval /= #$/mass$
			// @PacketResourceCost *= #$/mass$
		// }
		// %IsRTActive = false
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_heavyCommandModules
				// description__ = Crewable pods now have a basic embedded transmission antenna
				// techRequired__ = heavyCommandModules
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// @MODULE[ModuleSPUPassive]
	// {
		// %showUpgradesInModuleInfo = true
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_heavyCommandModules
				// description__ = Crewable pods now have a basic embedded transmission antenna
				// techRequired__ = heavyCommandModules
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[>0],@MODULE[ModuleRTAntenna],!MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[ModuleRTAntenna]
	// {
		// %showUpgradesInModuleInfo = true
		// @EnergyCost *= #$/mass$
		// @TRANSMITTER
		// {
			// @PacketInterval /= #$/mass$
			// @PacketResourceCost *= #$/mass$
		// }
		// %IsRTActive = false
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_heavyCommandModules
				// description__ = Crewable pods now have a basic embedded transmission antenna
				// techRequired__ = heavyCommandModules
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// MODULE
	// {
		// name = ModuleSPUPassive
		// showUpgradesInModuleInfo = true
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_heavyCommandModules
				// description__ = Crewable pods now have a basic embedded transmission antenna
				// techRequired__ = heavyCommandModules
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleCommand],#CrewCapacity[>0],!MODULE[ModuleRTAntenna],!MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// MODULE
	// {
		// name = ModuleRTAntenna
		// showUpgradesInModuleInfo = true
		// Mode0OmniRange = 5000
		// Mode1OmniRange = 75000
		// EnergyCost = 0.02
		// @EnergyCost *= #$/mass$
		// TRANSMITTER
		// {
			// PacketInterval = 0.3
			// @PacketInterval /= #$/mass$
			// PacketSize = 1
			// PacketResourceCost = 15.0
			// @PacketResourceCost *= #$/mass$
		// }
		// IsRTActive = false
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_heavyCommandModules
				// description__ = Crewable pods now have a basic embedded transmission antenna
				// techRequired__ = heavyCommandModules
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }

	// @MODULE[ModuleRTAntenna]:NEEDS[Kerbalism]
	// {
		// @EnergyCost /= 50
	// }

	// MODULE
	// {
		// name = ModuleSPUPassive
		// showUpgradesInModuleInfo = true
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_heavyCommandModules
				// description__ = Crewable pods now have a basic embedded transmission antenna
				// techRequired__ = heavyCommandModules
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// // enable ModuleRTAntenna when no ModuleAnimateGeneric exists
// @PART[*]:HAS[@MODULE[ModuleCommand],@MODULE[ModuleRTAntenna],!MODULE[ModuleAnimateGeneric],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[ModuleRTAntenna]
	// {
		// @IsRTActive = true
	// }
// }

// // remove obsolete modules
// @PART[*]:HAS[@MODULE[ModuleCommand],@MODULE[ModuleRTAntenna],@MODULE[ModuleRTAntennaPassive],@MODULE[ModuleSPU],@MODULE[ModuleSPUPassive],!MODULE[KerbalEVA]]:NEEDS[RemoteTech]:AFTER[RemoteTech]
// {
	// !MODULE[ModuleSPUPassive] { }
// }

// RSS or not, that is the question

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],~CrewCapacity[]]:NEEDS[RemoteTech,!RealSolarSystem]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]:HAS[#OmniRange[<3000]]
	{
		@OmniRange = 3000
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],#CrewCapacity[<1]]:NEEDS[RemoteTech,!RealSolarSystem]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]:HAS[#OmniRange[<3000]]
	{
		@OmniRange = 3000
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],#CrewCapacity[>0]]:NEEDS[RemoteTech,!RealSolarSystem]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]:HAS[#OmniRange[<30000]]
	{
		@OmniRange = 30000
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],~CrewCapacity[]]:NEEDS[RemoteTech,RealSolarSystem]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]:HAS[#OmniRange[<30000]]
	{
		@OmniRange = 30000
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],#CrewCapacity[<1]]:NEEDS[RemoteTech,RealSolarSystem]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]:HAS[#OmniRange[<30000]]
	{
		@OmniRange = 30000
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],#CrewCapacity[>0]]:NEEDS[RemoteTech,RealSolarSystem]:AFTER[RemoteTech]
{
	@MODULE[ModuleRTAntennaPassive]:HAS[#OmniRange[<300000]]
	{
		@OmniRange = 300000
	}
}

PARTUPGRADE
{
	name = GD_RT_electrics
	partIcon = GD.RT.electrics
	techRequired = electrics
	entryCost = 2000
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.

	title = RT: probe cores remote control
	basicInfo = #autoLOC_501093 //#autoLOC_501093 = Warning: May contain traces of sentience.
	manufacturer = #autoLOC_501664 //#autoLOC_501664 = Experimental Engineering Group
	description = Probe cores are now remote controllable
}

// PARTUPGRADE
// {
	// name = GD_RT_unmannedTech
	// partIcon = GD.RT.unmannedTech
	// techRequired = unmannedTech
	// entryCost = 4000
	// cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.

	// title = RT: probe cores embedded transmitter
	// basicInfo = #autoLOC_501119 //#autoLOC_501119 = Improvements in remote control technology for a new generation of probe designs.
	// manufacturer = #autoLOC_501667 //#autoLOC_501667 = Integrated Integrals
	// description = Probe cores now have a basic embedded transmission antenna
// }

PARTUPGRADE
{
	name = GD_RT_advUnmanned
	partIcon = GD.RT.advUnmanned
	techRequired = advUnmanned
	entryCost = 4000
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.

	title = RT: crew pods remote control
	basicInfo = #autoLOC_501119 //#autoLOC_501119 = Improvements in remote control technology for a new generation of probe designs.
	manufacturer = #autoLOC_501667 //#autoLOC_501667 = Integrated Integrals
	description = Crewable pods are now remote controllable (for unmanned testing)
}

// PARTUPGRADE
// {
	// name = GD_RT_heavyCommandModules
	// partIcon = GD.RT.heavyCommandModules
	// techRequired = heavyCommandModules
	// entryCost = 6000
	// cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.

	// title = RT: crew pods embedded transmitter
	// basicInfo = #LOC_CTT_heavyCommandModules_description // #LOC_CTT_heavyCommandModules_description = Big spacecraft need bigger command modules.
	// manufacturer = #autoLOC_501668 //#autoLOC_501668 = Ionic Symphonic Protonic Electronics
	// description = Crewable pods now have a basic embedded transmission antenna
// }

PART
{
	name = GD_RT_electrics
	module = Part
	author = Gordon Dry (used under permission of Allis Tauri)
	RSSROConfig = true

	MODEL
	{
		model = zFinal_FilterExtensions/RT_Mod/RT_pod_up
	}

	TechRequired = HIDDEN
	entryCost = 2000
	cost = 0
	mass = 0
	category = -1
	subcategory = 0
	PhysicsSignificance = 0
	bulkheadProfiles = srf

	manufacturer = #autoLOC_501664 //#autoLOC_501664 = Experimental Engineering Group
	title = RT: probe cores remote control
	description = Probe cores are now remote controllable
}

// PART
// {
	// name = GD_RT_unmannedTech
	// module = Part
	// author = Gordon Dry (used under permission of Allis Tauri)
	// RSSROConfig = true

	// MODEL
	// {
		// model = zFinal_FilterExtensions/RT_Mod/RT_pod_up
	// }

	// TechRequired = HIDDEN
	// entryCost = 4000
	// cost = 0
	// mass = 0
	// category = -1
	// subcategory = 0
	// PhysicsSignificance = 0
	// bulkheadProfiles = srf

	// manufacturer = #autoLOC_501667 //#autoLOC_501667 = Integrated Integrals
	// title = RT: probe cores embedded transmitter
	// description = Probe cores now have a basic embedded transmission antenna
// }

PART
{
	name = GD_RT_advUnmanned
	module = Part
	author = Gordon Dry (used under permission of Allis Tauri)
	RSSROConfig = true

	MODEL
	{
		model = zFinal_FilterExtensions/RT_Mod/RT_pod_up
	}

	TechRequired = HIDDEN
	entryCost = 4000
	cost = 0
	mass = 0
	category = -1
	subcategory = 0
	PhysicsSignificance = 0
	bulkheadProfiles = srf

	manufacturer = #autoLOC_501667 //#autoLOC_501667 = Integrated Integrals
	title = RT: crew pods remote control
	description = Crewable pods are now remote controllable (for unmanned testing)
}

// PART
// {
	// name = GD_RT_heavyCommandModules
	// module = Part
	// author = Gordon Dry (used under permission of Allis Tauri)
	// RSSROConfig = true

	// MODEL
	// {
		// model = zFinal_FilterExtensions/RT_Mod/RT_pod_up
	// }

	// TechRequired = HIDDEN
	// entryCost = 6000
	// cost = 0
	// mass = 0
	// category = -1
	// subcategory = 0
	// PhysicsSignificance = 0
	// bulkheadProfiles = srf

	// manufacturer = #autoLOC_501668 //#autoLOC_501668 = Ionic Symphonic Protonic Electronics
	// title = RT: crew pods embedded transmitter
	// description = Crewable pods now have a basic embedded transmission antenna
// }

// USI Sounding Rockets fix
@PART[SR_InlineProbe,SR_ProbeCore]:NEEDS[RemoteTech,UmbraSpaceIndustries]:AFTER[UmbraSpaceIndustries]
{
	-MODULE[ModuleRTAntennaPassive] { }
	-MODULE[ModuleRTAntenna] { }
	@MODULE[ModuleSPU]
	{
		!moduleIsEnabled = delete
		!showUpgradesInModuleInfo = delete
		-UPGRADES { }
	}
}

@PART[SR_InlineProbe,SR_ProbeCore]:NEEDS[RemoteTech,UmbraSpaceIndustries,Kerbalism]:AFTER[UmbraSpaceIndustries]
{
	-MODULE[Reliability]:HAS[#type[Antenna]] { }
}

@PART[SR_Nosecone_*]:NEEDS[RemoteTech,UmbraSpaceIndustries]:AFTER[UmbraSpaceIndustries]
{
	@MODULE[ModuleRTAntennaPassive]
	{
		@TRANSMITTER
		{
			@PacketInterval /= #$/mass$
			@PacketResourceCost *= #$/mass$
		}
	}
	// MODULE
	// {
		// name = ModuleRTAntenna
		// showUpgradesInModuleInfo = true
		// Mode0OmniRange = 5000
		// Mode1OmniRange = 100000
		// EnergyCost = 0.02
		// @EnergyCost *= #$/mass$
		// TRANSMITTER
		// {
			// PacketInterval = 0.3
			// @PacketInterval /= #$/mass$
			// PacketSize = 2
			// PacketResourceCost = 15.0
			// @PacketResourceCost *= #$/mass$
		// }
		// IsRTActive = false
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// IsRTActive = true
				// moduleIsEnabled = true
			// }
		// }
	// }
}

// Kerbalism fix
@PART[SR_Nosecone_*]:HAS[!MODULE[Reliability]:HAS[#type[Antenna]]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech,UmbraSpaceIndustries]:AFTER[UmbraSpaceIndustries]
{
	MODULE
	{
		name = Reliability
		type = Antenna
		title = Antenna
		redundancy = Communication
		repair = Engineer
		mtbf = 72576000 // 8y
		extra_cost = 0.25
		extra_mass = 0.05
	}
}

// @PART[*]:HAS[@MODULE[ModuleRTAntenna],@MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],~CrewCapacity[],!MODULE[KerbalEVA]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[Reliability]:HAS[#type[Antenna]]
	// {
		// %showUpgradesInModuleInfo = true
		// @extra_cost = 0.5
		// @extra_mass = 0.01
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleRTAntenna],!MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],~CrewCapacity[],!MODULE[KerbalEVA]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
// {
	// MODULE
	// {
		// name = Reliability
		// showUpgradesInModuleInfo = true
		// type = Antenna
		// title = Antenna
		// redundancy = Communication
		// repair = Engineer
		// mtbf = 72576000 // 8y
		// extra_cost = 0.5
		// extra_mass = 0.01
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleRTAntenna],@MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],#CrewCapacity[<1],!MODULE[KerbalEVA]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[Reliability]:HAS[#type[Antenna]]
	// {
		// %showUpgradesInModuleInfo = true
		// @extra_cost = 0.5
		// @extra_mass = 0.01
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleRTAntenna],!MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],#CrewCapacity[<1],!MODULE[KerbalEVA]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
// {
	// MODULE
	// {
		// name = Reliability
		// showUpgradesInModuleInfo = true
		// type = Antenna
		// title = Antenna
		// redundancy = Communication
		// repair = Engineer
		// mtbf = 72576000 // 8y
		// extra_cost = 0.5
		// extra_mass = 0.01
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_unmannedTech
				// description__ = Probe cores now have a basic embedded transmission antenna
				// techRequired__ = unmannedTech
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],@MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],~CrewCapacity[],!MODULE[KerbalEVA]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[Reliability]:HAS[#type[Antenna]]
	{
		%showUpgradesInModuleInfo = true
		@extra_cost = 0.5
		@extra_mass = 0.01
		%moduleIsEnabled = false
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],!MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],~CrewCapacity[],!MODULE[KerbalEVA]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
{
	MODULE
	{
		name = Reliability
		showUpgradesInModuleInfo = true
		type = Antenna
		title = Antenna
		redundancy = Communication
		repair = Engineer
		mtbf = 72576000 // 8y
		extra_cost = 0.5
		extra_mass = 0.01
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],@MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],#CrewCapacity[<1],!MODULE[KerbalEVA]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[Reliability]:HAS[#type[Antenna]]
	{
		%showUpgradesInModuleInfo = true
		@extra_cost = 0.5
		@extra_mass = 0.01
		%moduleIsEnabled = false
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],!MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],#CrewCapacity[<1],!MODULE[KerbalEVA]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
{
	MODULE
	{
		name = Reliability
		showUpgradesInModuleInfo = true
		type = Antenna
		title = Antenna
		redundancy = Communication
		repair = Engineer
		mtbf = 72576000 // 8y
		extra_cost = 0.5
		extra_mass = 0.01
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_electrics
				description__ = Probe cores are now remote controllable
				techRequired__ = electrics
				moduleIsEnabled = true
			}
		}
	}
}

// @PART[*]:HAS[@MODULE[ModuleRTAntenna],@MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],#CrewCapacity[>0]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
// {
	// @MODULE[Reliability]:HAS[#type[Antenna]]
	// {
		// %showUpgradesInModuleInfo = true
		// @extra_cost = 0.05
		// @extra_mass = 0.001
		// %moduleIsEnabled = false
		// %UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_heavyCommandModules
				// description__ = Crewable pods now have a basic embedded transmission antenna
				// techRequired__ = heavyCommandModules
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

// @PART[*]:HAS[@MODULE[ModuleRTAntenna],!MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],#CrewCapacity[>0]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
// {
	// MODULE
	// {
		// name = Reliability
		// showUpgradesInModuleInfo = true
		// type = Antenna
		// title = Antenna
		// redundancy = Communication
		// repair = Engineer
		// mtbf = 72576000 // 8y
		// extra_cost = 0.05
		// extra_mass = 0.001
		// moduleIsEnabled = false
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = GD_RT_heavyCommandModules
				// description__ = Crewable pods now have a basic embedded transmission antenna
				// techRequired__ = heavyCommandModules
				// moduleIsEnabled = true
			// }
		// }
	// }
// }

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],@MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],#CrewCapacity[>0]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
{
	@MODULE[Reliability]:HAS[#type[Antenna]]
	{
		%showUpgradesInModuleInfo = true
		@extra_cost = 0.05
		@extra_mass = 0.001
		%moduleIsEnabled = false
		%UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_advUnmanned
				description__ = Crewable pods are now remote controllable (for unmanned testing)
				techRequired__ = advUnmanned
				moduleIsEnabled = true
			}
		}
	}
}

@PART[*]:HAS[@MODULE[ModuleRTAntennaPassive],!MODULE[Reliability]:HAS[#type[Antenna]],@MODULE[ModuleCommand],#CrewCapacity[>0]]:NEEDS[Kerbalism,FeatureReliability,RemoteTech]:AFTER[RemoteTech]
{
	MODULE
	{
		name = Reliability
		showUpgradesInModuleInfo = true
		type = Antenna
		title = Antenna
		redundancy = Communication
		repair = Engineer
		mtbf = 72576000 // 8y
		extra_cost = 0.05
		extra_mass = 0.001
		moduleIsEnabled = false
		UPGRADES
		{
			UPGRADE
			{
				name__ = GD_RT_advUnmanned
				description__ = Crewable pods are now remote controllable (for unmanned testing)
				techRequired__ = advUnmanned
				moduleIsEnabled = true
			}
		}
	}
}
